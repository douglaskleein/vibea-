<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vibea+ - Aplicativo Mobile</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  :root {
    --cor-fundo: #121212;
    --cor-menu: #212121;
    --sombra-clara: #333333;
    --sombra-escura: #000000;
    --cor-texto: #ffffff;
    --cor-primaria: #7C5CFC;
    --cor-texto-ativo: #ff8c00;
  }
  body {
    font-family: Arial, sans-serif;
    background: var(--cor-fundo);
    color: var(--cor-texto);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
    justify-content: center;
    align-items: center;
  }
  h2, h3, p {
    margin-bottom: 0.5rem;
  }
  .screen {
    position: absolute;
    top: 0;
    left: 100%;
    width: 100%;
    height: 100%;
    padding: 1rem;
    flex: 1;
    background: var(--cor-fundo);
    transition: left 0.3s ease-in-out;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .screen.active {
    left: 0;
  }
  .login-title {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    text-align: center;
    color: var(--cor-texto);
  }
  .card {
    background: var(--cor-menu);
    border-radius: 16px;
    padding: 2rem;
    margin: 1rem auto;
    max-width: 400px;
    width: 90%;
    text-align: center;
    box-shadow: -10px -10px 20px var(--sombra-clara), 10px 10px 20px var(--sombra-escura);
  }
  .card input[type="email"],
  .card input[type="password"],
  .card input[type="text"],
  .card input[type="number"],
  .card textarea {
    display: block;
    width: 100%;
    padding: 1rem 1.5rem;
    margin-bottom: 1rem;
    border-radius: 12px;
    border: none;
    font-size: 1rem;
    background: var(--cor-menu);
    color: var(--cor-texto);
    text-align: left;
    box-shadow: inset 5px 5px 10px var(--sombra-escura), inset -5px -5px 10px var(--sombra-clara);
    outline: none;
  }
  .card textarea {
    height: 100px;
    resize: none;
  }
  .card input::placeholder,
  .card textarea::placeholder {
    color: #888;
  }
  .btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 1.5rem;
    margin-bottom: 1rem;
    border-radius: 12px;
    border: none;
    width: 100%;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 7px 7px 15px var(--sombra-escura), -7px -7px 15px var(--sombra-clara);
    color: var(--cor-texto);
    background: var(--cor-menu);
    outline: none;
  }
  .btn:last-child {
    margin-bottom: 0;
  }
  .btn-primary {
    background: var(--cor-primaria);
    color: #fff;
    font-weight: bold;
    box-shadow: 5px 5px 10px var(--sombra-escura), -5px -5px 10px var(--cor-primaria);
  }
  .btn-signup {
    background: #333;
    color: #ccc;
  }
  .btn-google {
    background: #fff;
    color: #000;
    font-weight: bold;
    box-shadow: 5px 5px 10px var(--sombra-escura), -5px -5px 10px #ccc;
  }
  .btn-apple {
    background: #000;
    color: #fff;
    border: 1px solid #fff;
    font-weight: bold;
    box-shadow: 5px 5px 10px var(--sombra-escura), -5px -5px 10px #444;
  }
  .btn:active {
    box-shadow: inset 4px 4px 8px var(--sombra-escura), inset -4px -4px 8px var(--sombra-clara);
    transform: scale(0.98);
  }
  p {
    color: #ccc;
    margin-top: 1rem;
    margin-bottom: 1rem;
  }
  #swipe-area {
    position: relative;
    height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: none;
  }
  .profile-card {
    position: absolute;
    width: 90%;
    max-width: 350px;
    background: var(--cor-menu);
    border-radius: 20px;
    overflow: hidden;
    text-align: center;
    cursor: grab;
    transition: transform 0.3s ease, opacity 0.3s ease;
    box-shadow: -5px -5px 10px var(--sombra-clara), 5px 5px 10px var(--sombra-escura);
  }
  .profile-card img {
    width: 100%;
    height: 400px;
    object-fit: cover;
  }
  .profile-info {
    padding: 1rem;
  }
  .swipe-status {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 4rem;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .swipe-status.like {
    color: #2196F3;
  }
  .swipe-status.dislike {
    color: #f44336;
  }
  .bottom-nav {
    display: none;
    justify-content: space-around;
    background: var(--cor-menu);
    padding: 0.5rem 0;
    position: fixed;
    bottom: 0;
    width: 100%;
    border-top: 1px solid #222;
    box-shadow: -5px -5px 10px var(--sombra-clara), 5px 5px 10px var(--sombra-escura);
    z-index: 1000;
  }
  .nav-list {
    display: flex;
    width: 100%;
    justify-content: space-around;
    list-style: none;
  }
  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--cor-texto);
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 10px;
    transition: all 0.2s ease;
    box-shadow: -4px -4px 8px var(--sombra-clara), 4px 4px 8px var(--sombra-escura);
  }
  .nav-item-active {
    box-shadow: inset 4px 4px 8px var(--sombra-escura), inset -4px -4px 8px var(--sombra-clara);
  }
  .nav-item-active .nav-icon {
    filter: invert(50%) sepia(100%) saturate(2000%) hue-rotate(330deg) brightness(100%) contrast(100%);
  }
  .nav-item-active .nav-text {
    color: var(--cor-texto-ativo);
  }
  .nav-icon {
    width: 24px;
    height: 24px;
    margin-bottom: 0.2rem;
  }
  .nav-text {
    font-size: 0.75rem;
  }
  .profile-container {
    max-width: 400px;
    margin: 0 auto;
    text-align: center;
    padding-top: 2rem;
  }
  .profile-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 1rem;
    box-shadow: -5px -5px 10px var(--sombra-clara), 5px 5px 10px var(--sombra-escura);
  }
  .profile-info-display {
    padding: 1rem;
    border-radius: 16px;
    background: var(--cor-menu);
    margin-bottom: 1rem;
    box-shadow: inset 4px 4px 8px var(--sombra-escura), inset -4px -4px 8px var(--sombra-clara);
    text-align: left;
  }
  .profile-info-display h3 {
    margin: 0.5rem 0;
  }
  .profile-info-display .info-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid #333;
  }
  .profile-info-display .info-row:last-child {
    border-bottom: none;
  }
  .profile-interests {
    padding: 1rem;
    background: var(--cor-menu);
    border-radius: 16px;
    box-shadow: inset 4px 4px 8px var(--sombra-escura), inset -4px -4px 8px var(--sombra-clara);
    text-align: left;
    margin-bottom: 1rem;
  }
  .interest-tag {
    display: inline-block;
    background: var(--cor-fundo);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    margin: 0.25rem;
    box-shadow: -3px -3px 6px var(--sombra-clara), 3px 3px 6px var(--sombra-escura);
  }
  .list-item {
    display: flex;
    align-items: center;
    background: var(--cor-menu);
    border-radius: 12px;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    box-shadow: -3px -3px 6px var(--sombra-clara), 3px 3px 6px var(--sombra-escura);
    width: 100%;
  }
  .list-item img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin-right: 1rem;
    object-fit: cover;
  }
  .crossing-feed {
    padding: 1rem;
    background: var(--cor-menu);
    border-radius: 12px;
    margin-bottom: 0.5rem;
    box-shadow: inset 3px 3px 6px var(--sombra-escura), inset -3px -3px 6px var(--sombra-clara);
  }
</style>
</head>
<body>
  <div id="login" class="screen active">
    <div class="login-title">Vibea+</div>
    <p>Onde seus caminhos se cruzam com as pessoas certas</p>
    <div class="card">
      <h2>Login / Cadastro</h2>
      <input type="email" id="email-input" placeholder="Seu e-mail" />
      <input type="password" id="password-input" placeholder="Sua senha" />
      <button class="btn btn-primary" id="login-btn" onclick="handleLogin()">Entrar</button>
      <button class="btn btn-signup" id="signup-btn" onclick="handleSignup()">Criar Conta</button>
      <p style="font-size: 0.8rem; margin-top: 1rem;">Opcional: use os bot√µes abaixo para login social</p>
      <button class="btn btn-google" onclick="handleGoogleLogin()">Entrar com Google</button>
      <button class="btn btn-apple" onclick="handleAppleLogin()">Entrar com Apple</button>
    </div>
  </div>

  <div id="perfil-onboarding" class="screen">
    <div class="login-title">Complete seu Perfil</div>
    <div class="card">
      <p>Preencha suas informa√ß√µes para come√ßar.</p>
      <input type="text" id="profile-name-input" placeholder="Seu nome" required />
      <input type="number" id="profile-age-input" placeholder="Sua idade" required />
      <input type="text" id="profile-bio-input" placeholder="Fale um pouco sobre voc√™" required />
      <input type="text" id="profile-photo-url-input" placeholder="URL da sua foto (ex: link de uma imagem)" required />
      <button class="btn btn-primary" onclick="saveUserProfile()">Salvar Perfil</button>
    </div>
  </div>

  <div id="deslizar" class="screen">
    <div style="display: flex; justify-content: space-between; align-items: center; width: 90%; max-width: 400px; margin-top: 1rem;">
      <h2>Modo Deslizar</h2>
      <button class="btn" onclick="showScreen('login')" style="width: auto; padding: 0.5rem 1rem; font-size: 0.9rem; margin-bottom: 0;">Sair</button>
    </div>
    <div id="swipe-area">
      <div class="swipe-status like">üíö</div>
      <div class="swipe-status dislike">‚ùå</div>
    </div>
  </div>

  <div id="proximos" class="screen">
    <h2>Pr√≥ximos</h2>
    <div id="nearby-profiles-container">
      </div>
  </div>

  <div id="caminhos" class="screen">
    <h2>Caminhos</h2>
    <div id="crossing-feed-container">
      </div>
  </div>

  <div id="chat" class="screen">
    <h2>Chat</h2>
    <div id="chat-feed-container">
      </div>
  </div>

  <div id="perfil" class="screen">
    <div class="profile-container">
      <img id="my-profile-photo" class="profile-avatar" src="https://via.placeholder.com/120" alt="Sua foto de perfil">
      <div class="profile-info-display">
        <h3><span id="my-profile-name">Nome</span>, <span id="my-profile-age">Idade</span></h3>
        <p><span id="my-profile-bio">Sua biografia ser√° exibida aqui.</span></p>
      </div>
      <button class="btn" onclick="showScreen('login')">Sair</button>
    </div>
  </div>

  <div class="bottom-nav">
    <button class="btn nav-item nav-item-active" onclick="showScreen('deslizar')">
      <img src="icons/deslizar.svg" alt="Deslizar" class="nav-icon">
      <span class="nav-text">Deslizar</span>
    </button>
    <button class="btn nav-item" onclick="showScreen('proximos')">
      <img src="icons/proximos.svg" alt="Pr√≥ximos" class="nav-icon">
      <span class="nav-text">Pr√≥ximos</span>
    </button>
    <button class="btn nav-item" onclick="showScreen('caminhos')">
      <img src="icons/caminhos.svg" alt="Caminhos" class="nav-icon">
      <span class="nav-text">Caminhos</span>
    </button>
    <button class="btn nav-item" onclick="showScreen('chat')">
      <img src="icons/chat.svg" alt="Chat" class="nav-icon">
      <span class="nav-text">Chat</span>
    </button>
    <button class="btn nav-item" onclick="showScreen('perfil')">
      <img src="icons/perfil.svg" alt="Perfil" class="nav-icon">
      <span class="nav-text">Perfil</span>
    </button>
  </div>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyANLlI4HsYSrJj9JVFxVoJbG2VoPvaPOL0",
      authDomain: "vibea-f902f.firebaseapp.com",
      projectId: "vibea-f902f",
      storageBucket: "vibea-f902f.firebasestorage.app",
      messagingSenderId: "929388500407",
      appId: "1:929388500407:web:cf80374b170c3d9d990432",
      measurementId: "G-KBD60NQJDW"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const screens = document.querySelectorAll('.screen');
    const bottomNav = document.querySelector('.bottom-nav');
    const emailInput = document.getElementById('email-input');
    const passwordInput = document.getElementById('password-input');

    async function showScreen(screenId) {
      screens.forEach(screen => {
        screen.classList.remove('active');
      });
      document.getElementById(screenId).classList.add('active');

      if (screenId === 'login') {
        bottomNav.style.display = 'none';
      } else {
        bottomNav.style.display = 'flex';
      }

      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('nav-item-active');
      });
      if (screenId !== 'login' && screenId !== 'perfil-onboarding') {
        const activeButton = document.querySelector(`.bottom-nav button[onclick*="${screenId}"]`);
        if (activeButton) {
          activeButton.classList.add('nav-item-active');
        }
      }

      if (screenId === 'perfil') {
        loadUserProfile();
      }
      if (screenId === 'deslizar') {
        loadSwipeCards();
      }
      if (screenId === 'proximos') {
        loadNearbyProfiles();
      }
      if (screenId === 'caminhos') {
        loadCrossingFeed();
      }
      if (screenId === 'chat') {
        loadChatFeed();
      }
    }
    showScreen('login');

    function checkUserProfile() {
      const user = auth.currentUser;
      if (user) {
        db.collection('users').doc(user.uid).get().then(doc => {
          if (doc.exists) {
            alert("Login bem-sucedido!");
            showScreen('deslizar');
          } else {
            alert("Por favor, complete seu perfil.");
            showScreen('perfil-onboarding');
          }
        }).catch(error => {
          console.error("Erro ao verificar o perfil:", error);
          alert("Erro ao verificar o perfil. Tente novamente.");
        });
      }
    }

    function handleSignup() {
      const email = emailInput.value;
      const password = passwordInput.value;
      
      auth.createUserWithEmailAndPassword(email, password)
        .then(() => {
          checkUserProfile();
        })
        .catch((error) => {
          let errorMessage = "Ocorreu um erro. Tente novamente.";
          if (error.code === 'auth/email-already-in-use') {
            errorMessage = "O e-mail fornecido j√° est√° em uso.";
          } else if (error.code === 'auth/invalid-email') {
            errorMessage = "O e-mail fornecido √© inv√°lido.";
          } else if (error.code === 'auth/weak-password') {
            errorMessage = "A senha deve ter pelo menos 6 caracteres.";
          }
          alert(errorMessage);
        });
    }

    function handleLogin() {
      const email = emailInput.value;
      const password = passwordInput.value;

      auth.signInWithEmailAndPassword(email, password)
        .then(() => {
          checkUserProfile();
        })
        .catch((error) => {
          let errorMessage = "Ocorreu um erro. Verifique seu e-mail e senha.";
          if (error.code === 'auth/wrong-password' || error.code === 'auth/user-not-found') {
            errorMessage = "Credenciais inv√°lidas. Verifique seu e-mail e senha.";
          }
          alert(errorMessage);
        });
    }

    function handleGoogleLogin() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then(() => {
          checkUserProfile();
        }).catch((error) => {
          console.error("Erro no login com Google:", error);
          alert("Erro ao fazer login com Google. Tente novamente.");
        });
    }

    function handleAppleLogin() {
      const provider = new firebase.auth.OAuthProvider('apple.com');
      auth.signInWithPopup(provider)
        .then(() => {
          checkUserProfile();
        }).catch((error) => {
          console.error("Erro no login com Apple:", error);
          alert("Erro ao fazer login com Apple. Tente novamente.");
        });
    }

    function saveUserProfile() {
      const user = auth.currentUser;
      const name = document.getElementById('profile-name-input').value;
      const age = document.getElementById('profile-age-input').value;
      const bio = document.getElementById('profile-bio-input').value;
      const photoUrl = document.getElementById('profile-photo-url-input').value;

      if (!name || !age || !bio || !photoUrl) {
        alert("Por favor, preencha todos os campos.");
        return;
      }

      db.collection('users').doc(user.uid).set({
        name: name,
        age: parseInt(age),
        bio: bio,
        photoUrl: photoUrl,
        email: user.email,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      }).then(() => {
        alert("Perfil salvo com sucesso!");
        showScreen('deslizar');
      }).catch(error => {
        console.error("Erro ao salvar o perfil:", error);
        alert("Erro ao salvar o perfil. Tente novamente.");
      });
    }

    function loadUserProfile() {
      const user = auth.currentUser;
      if (user) {
        db.collection('users').doc(user.uid).get().then(doc => {
          if (doc.exists) {
            const data = doc.data();
            document.getElementById('my-profile-name').innerText = data.name;
            document.getElementById('my-profile-age').innerText = data.age;
            document.getElementById('my-profile-bio').innerText = data.bio;
            document.getElementById('my-profile-photo').src = data.photoUrl;
          } else {
            console.log("Nenhum documento encontrado para o usu√°rio.");
          }
        }).catch(error => {
          console.error("Erro ao carregar o perfil:", error);
        });
      }
    }

    async function loadSwipeCards() {
      const swipeArea = document.getElementById('swipe-area');
      const currentUser = auth.currentUser;

      swipeArea.innerHTML = '';
      const likeStatus = document.createElement('div');
      likeStatus.className = 'swipe-status like';
      likeStatus.innerText = 'üíö';
      const dislikeStatus = document.createElement('div');
      dislikeStatus.className = 'swipe-status dislike';
      dislikeStatus.innerText = '‚ùå';
      swipeArea.appendChild(likeStatus);
      swipeArea.appendChild(dislikeStatus);
      
      try {
        const usersRef = db.collection('users');
        const snapshot = await usersRef.get();
        const profiles = [];

        snapshot.forEach(doc => {
          if (doc.id !== currentUser.uid) {
            profiles.push({ id: doc.id, ...doc.data() });
          }
        });

        profiles.forEach(profile => {
          const card = document.createElement('div');
          card.className = 'profile-card';
          card.innerHTML = `
            <img src="${profile.photoUrl}" alt="Foto de perfil de ${profile.name}">
            <div class="profile-info-display">
              <h3>${profile.name}, ${profile.age}</h3>
              <p>${profile.bio}</p>
            </div>
          `;
          swipeArea.appendChild(card);
        });

        const topCard = swipeArea.lastElementChild;
        if (topCard) {
          addDragEvents(topCard);
        }

      } catch (error) {
        console.error("Erro ao carregar os perfis para a tela de deslize:", error);
      }
    }

    async function loadNearbyProfiles() {
      const container = document.getElementById('nearby-profiles-container');
      const currentUser = auth.currentUser;
      container.innerHTML = '';
      
      try {
        const usersRef = db.collection('users');
        const snapshot = await usersRef.get();
        const profiles = [];

        snapshot.forEach(doc => {
          if (doc.id !== currentUser.uid) {
            profiles.push({ id: doc.id, ...doc.data() });
          }
        });

        if (profiles.length === 0) {
          container.innerHTML = `<p style="text-align: center; margin-top: 2rem;">Nenhum usu√°rio encontrado por perto.</p>`;
          return;
        }

        profiles.forEach(profile => {
          const listItem = document.createElement('div');
          listItem.className = 'list-item';
          listItem.innerHTML = `
            <img src="${profile.photoUrl}" alt="User">
            <div>
              <h3>${profile.name}, ${profile.age}</h3>
              <p>${profile.bio}</p>
            </div>
          `;
          container.appendChild(listItem);
        });
      } catch (error) {
        console.error("Erro ao carregar perfis pr√≥ximos:", error);
      }
    }

    // NOVA FUN√á√ÉO: Carregar feed de cruzamentos
    async function loadCrossingFeed() {
        const container = document.getElementById('crossing-feed-container');
        container.innerHTML = ''; // Limpa o feed

        // Exemplo de dados de cruzamento (seria substitu√≠do por dados do Firestore)
        const dummyCrossings = [
            { name: "Maria", time: "15min" },
            { name: "Pedro", time: "1h" },
            { name: "Ana", time: "2h" },
        ];

        if (dummyCrossings.length === 0) {
            container.innerHTML = `<p style="text-align: center; margin-top: 2rem;">Nenhum cruzamento recente encontrado.</p>`;
            return;
        }

        dummyCrossings.forEach(crossing => {
            const feedItem = document.createElement('div');
            feedItem.className = 'crossing-feed';
            feedItem.innerText = `Voc√™ cruzou com ${crossing.name} (h√° ${crossing.time})`;
            container.appendChild(feedItem);
        });
    }

    // NOVA FUN√á√ÉO: Carregar feed de chat
    function loadChatFeed() {
        const container = document.getElementById('chat-feed-container');
        container.innerHTML = ''; // Limpa o feed

        const chatPlaceholder = document.createElement('div');
        chatPlaceholder.style.textAlign = 'center';
        chatPlaceholder.style.marginTop = '2rem';
        chatPlaceholder.innerHTML = `<p>A l√≥gica do Chat ser√° implementada em uma pr√≥xima etapa. Aqui voc√™ ver√° suas mensagens!</p>`;
        container.appendChild(chatPlaceholder);
    }

    const swipeArea = document.getElementById('swipe-area');
    let isDragging = false;
    let startX;
    let currentX;

    function addDragEvents(card) {
      if (!card || card.classList.contains('swipe-status')) return;
      card.addEventListener('mousedown', startDrag);
      card.addEventListener('touchstart', startDrag, { passive: true });
      card.addEventListener('mousemove', drag);
      card.addEventListener('touchmove', drag, { passive: true });
      card.addEventListener('mouseup', endDrag);
      card.addEventListener('touchend', endDrag);
      card.addEventListener('mouseleave', endDrag);
    }

    function startDrag(e) {
      isDragging = true;
      startX = e.clientX || e.touches[0].clientX;
      const topCard = swipeArea.lastElementChild;
      if (topCard) topCard.style.transition = '';
    }

    function drag(e) {
      if (!isDragging) return;
      const topCard = swipeArea.lastElementChild;
      if (!topCard) return;
      
      currentX = e.clientX || e.touches[0].clientX;
      const dx = currentX - startX;
      topCard.style.transform = `translateX(${dx}px) rotate(${dx / 20}deg)`;
      const likeStatus = document.querySelector('.swipe-status.like');
      const dislikeStatus = document.querySelector('.swipe-status.dislike');
      if (dx > 50) {
        likeStatus.style.opacity = 1;
        dislikeStatus.style.opacity = 0;
      } else if (dx < -50) {
        likeStatus.style.opacity = 0;
        dislikeStatus.style.opacity = 1;
      } else {
        likeStatus.style.opacity = 0;
        dislikeStatus.style.opacity = 0;
      }
    }

    function endDrag(e) {
      if (!isDragging) return;
      isDragging = false;
      const topCard = swipeArea.lastElementChild;
      if (!topCard) return;
      
      const dx = currentX - startX;
      const threshold = 100;
      topCard.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
      document.querySelector('.swipe-status.like').style.opacity = 0;
      document.querySelector('.swipe-status.dislike').style.opacity = 0;
      if (Math.abs(dx) > threshold) {
        topCard.style.transform = `translateX(${dx > 0 ? 1000 : -1000}px) rotate(${dx > 0 ? 45 : -45}deg)`;
        topCard.style.opacity = '0';
        setTimeout(() => {
          topCard.remove();
          const newTopCard = swipeArea.lastElementChild;
          if (newTopCard && !newTopCard.classList.contains('swipe-status')) {
            addDragEvents(newTopCard);
          } else {
            console.log("Todos os cart√µes foram deslizados!");
          }
        }, 300);
      } else {
        topCard.style.transform = 'translateX(0px) rotate(0deg)';
      }
    }
  </script>
</body>
</html>